<!doctype lake><title>3.1 搞懂什么是RESTful API？</title><meta name="doc-version" content="1" /><meta name="viewport" content="adapt" /><meta name="typography" content="classic" /><meta name="paragraphSpacing" content="relax" /><meta name="defaultFontsize" content="16" /><h1 data-lake-id="QCg86" id="QCg86"><span data-lake-id="ua0617bfe" id="ua0617bfe">基础概念</span></h1><h3 data-lake-id="nwSVL" id="nwSVL"><span data-lake-id="ubd16aa2b" id="ubd16aa2b">1. 什么是接口？</span></h3><p data-lake-id="ua1bdf2ab" id="ua1bdf2ab"><span data-lake-id="u000b8325" id="u000b8325">在软件开发中，接口就像是一个“桥梁”，它让不同的系统或程序能够互相通信。比如，你用手机上的天气应用，它需要从天气服务器获取数据，这个获取数据的过程就是通过接口完成的。</span></p><h3 data-lake-id="DW9rZ" id="DW9rZ"><span data-lake-id="u5733d45f" id="u5733d45f">2. REST 是什么？</span></h3><p data-lake-id="u891c1bb7" id="u891c1bb7"><span data-lake-id="u5effe371" id="u5effe371">简单来说，REST 就是一套规则，告诉开发者怎么设计接口，让它们更简单、更高效、更通用。</span></p><h3 data-lake-id="vmmnt" id="vmmnt"><span data-lake-id="u9d613e20" id="u9d613e20">3. RESTful 接口的特点</span></h3><h4 data-lake-id="n6vfz" id="n6vfz"><span data-lake-id="u951ffd4e" id="u951ffd4e">（1）</span><strong><span data-lake-id="ud1552cec" id="ud1552cec">无状态（Stateless）</span></strong></h4><ul list="ua3f55729"><li fid="uec41067f" data-lake-id="u963f4bac" id="u963f4bac"><span data-lake-id="ub2414c64" id="ub2414c64">每次请求都是独立的，服务器不会保存上次请求的状态。</span></li><li fid="uec41067f" data-lake-id="u265ab763" id="u265ab763"><span data-lake-id="u95e52d67" id="u95e52d67">比如，你打开一个网页，服务器不会记得你之前做过什么，每次请求都是新的。</span></li></ul><h4 data-lake-id="zOJjj" id="zOJjj"><span data-lake-id="u477a2657" id="u477a2657">（2）</span><strong><span data-lake-id="uc6fef6c9" id="uc6fef6c9">统一的接口（Uniform Interface）</span></strong></h4><ul list="u25b570e8"><li fid="u1dbb4796" data-lake-id="u76a681af" id="u76a681af"><span data-lake-id="ub7210935" id="ub7210935">所有的操作都通过统一的方式进行，比如使用 HTTP 协议的几种方法（GET、POST、PUT、DELETE）。</span></li></ul><h4 data-lake-id="zeQjk" id="zeQjk"><span data-lake-id="u339865dc" id="u339865dc">（3）</span><strong><span data-lake-id="u05ced1b4" id="u05ced1b4">资源导向（Resource-Oriented）</span></strong></h4><ul list="u882f1cc5"><li fid="ued346f7a" data-lake-id="u645dc108" id="u645dc108"><span data-lake-id="u82c6928d" id="u82c6928d">在 RESTful 接口中，一切都是“资源”，比如用户信息、文章、商品等。</span></li><li fid="ued346f7a" data-lake-id="u2df40db6" id="u2df40db6"><span data-lake-id="u4de9793f" id="u4de9793f">每个资源都有一个唯一的地址（URL），通过这个地址可以访问和操作资源。</span></li></ul><h3 data-lake-id="rlF3S" id="rlF3S"><span data-lake-id="u8e4521e5" id="u8e4521e5">4. HTTP 方法</span></h3><p data-lake-id="u9f0a078f" id="u9f0a078f"><span data-lake-id="u453e9cf4" id="u453e9cf4">RESTful 接口主要通过 HTTP 协议来实现，它使用几种常见的 HTTP 方法来操作资源：</span></p><h4 data-lake-id="IDXXp" id="IDXXp"><span data-lake-id="u42a5379d" id="u42a5379d">（1）</span><strong><span data-lake-id="u1f5f197c" id="u1f5f197c">GET</span></strong></h4><ul list="u690bf0db"><li fid="u57d519eb" data-lake-id="u4e38e3a5" id="u4e38e3a5"><span data-lake-id="u04bd53f3" id="u04bd53f3">用来</span><strong><span data-lake-id="ucf48c97f" id="ucf48c97f">获取资源</span></strong><span data-lake-id="uf1070bca" id="uf1070bca">。</span></li><li fid="u57d519eb" data-lake-id="u1921db67" id="u1921db67"><span data-lake-id="ubc5a99c4" id="ubc5a99c4">比如，你想从服务器上获取一篇文章的内容，就可以用 </span><code data-lake-id="ucf36de45" id="ucf36de45"><span data-lake-id="ub4bbe633" id="ub4bbe633">GET</span></code><span data-lake-id="u83ff21ab" id="u83ff21ab"> 方法。</span></li></ul><h4 data-lake-id="ZY8bT" id="ZY8bT"><span data-lake-id="ua3f4270d" id="ua3f4270d">（2）</span><strong><span data-lake-id="ufa5960c3" id="ufa5960c3">POST</span></strong></h4><ul list="u0ac2a7a0"><li fid="u7eda1795" data-lake-id="u9efe351b" id="u9efe351b"><span data-lake-id="ubdc35db0" id="ubdc35db0">用来</span><strong><span data-lake-id="uad08a796" id="uad08a796">创建资源</span></strong><span data-lake-id="u1e65522b" id="u1e65522b">。</span></li><li fid="u7eda1795" data-lake-id="u24a77783" id="u24a77783"><span data-lake-id="u97b91156" id="u97b91156">比如，你写了一篇新文章，想把它保存到服务器上，就可以用 </span><code data-lake-id="ue4468137" id="ue4468137"><span data-lake-id="u5a0f302a" id="u5a0f302a">POST</span></code><span data-lake-id="u0ef8c4d8" id="u0ef8c4d8"> 方法。</span></li></ul><h4 data-lake-id="sy8Cq" id="sy8Cq"><span data-lake-id="u832f87f6" id="u832f87f6">（3）</span><strong><span data-lake-id="u756042e2" id="u756042e2">PUT</span></strong></h4><ul list="ue2d75aaa"><li fid="uba3db925" data-lake-id="uacd0c7d0" id="uacd0c7d0"><span data-lake-id="uba82aca2" id="uba82aca2">用来</span><strong><span data-lake-id="u6e549f55" id="u6e549f55">更新资源</span></strong><span data-lake-id="u6de1c837" id="u6de1c837">。</span></li><li fid="uba3db925" data-lake-id="u9ad156f7" id="u9ad156f7"><span data-lake-id="u6354170a" id="u6354170a">比如，你想修改一篇文章的内容，就可以用 </span><code data-lake-id="ud48c9398" id="ud48c9398"><span data-lake-id="ue84af1ef" id="ue84af1ef">PUT</span></code><span data-lake-id="u0308cd0b" id="u0308cd0b"> 方法。</span></li></ul><h4 data-lake-id="lyUpI" id="lyUpI"><span data-lake-id="u0ee146bd" id="u0ee146bd">（4）</span><strong><span data-lake-id="u3452febb" id="u3452febb">DELETE</span></strong></h4><ul list="u822a2288"><li fid="u689a1894" data-lake-id="u8f7e260e" id="u8f7e260e"><span data-lake-id="uea1dfc9f" id="uea1dfc9f">用来</span><strong><span data-lake-id="u7be07755" id="u7be07755">删除资源</span></strong><span data-lake-id="uc0cbf5b4" id="uc0cbf5b4">。</span></li><li fid="u689a1894" data-lake-id="u93cfdd70" id="u93cfdd70"><span data-lake-id="ub9d71618" id="ub9d71618">比如，你想删除一篇文章，就可以用 </span><code data-lake-id="u4fc1b782" id="u4fc1b782"><span data-lake-id="u606f9a53" id="u606f9a53">DELETE</span></code><span data-lake-id="uf53dff00" id="uf53dff00"> 方法。</span></li></ul><h3 data-lake-id="WpGbJ" id="WpGbJ"><span data-lake-id="u7c734753" id="u7c734753">5. 小例子</span></h3><h4 data-lake-id="Nxiv1" id="Nxiv1"><span data-lake-id="u6c534fc8" id="u6c534fc8">场景描述</span></h4><p data-lake-id="uaf21daaf" id="uaf21daaf"><span data-lake-id="uf8a309c7" id="uf8a309c7">假设我们正在开发一个图书馆管理系统，需要通过 RESTful 接口实现以下功能：</span></p><ol list="uf9b5e030"><li fid="u45a056bc" data-lake-id="u02b2ae79" id="u02b2ae79"><span data-lake-id="uf8015c23" id="uf8015c23">获取所有书籍的列表。</span></li><li fid="u45a056bc" data-lake-id="ucf4114e1" id="ucf4114e1"><span data-lake-id="u6eb9297b" id="u6eb9297b">获取某一本特定书籍的详细信息。</span></li><li fid="u45a056bc" data-lake-id="uf99b3921" id="uf99b3921"><span data-lake-id="u83fd54ac" id="u83fd54ac">添加一本新书。</span></li><li fid="u45a056bc" data-lake-id="u1db7fd63" id="u1db7fd63"><span data-lake-id="u86c80c19" id="u86c80c19">更新某本书的信息。</span></li><li fid="u45a056bc" data-lake-id="u2c54937f" id="u2c54937f"><span data-lake-id="u9b6336bd" id="u9b6336bd">删除某本书。</span></li></ol><h4 data-lake-id="ec4DD" id="ec4DD"><span data-lake-id="u1a7aec05" id="u1a7aec05">1. 定义资源</span></h4><p data-lake-id="ua8dd254d" id="ua8dd254d"><span data-lake-id="ua3c1dadc" id="ua3c1dadc">在 RESTful 接口中，一切都是“资源”。在这个例子中，</span><strong><span data-lake-id="ude4df391" id="ude4df391">书籍（Book）</span></strong><span data-lake-id="u0213fb01" id="u0213fb01"> 就是一个资源。每本书可以用以下属性来描述：</span></p><ul list="u55ea08c9"><li fid="u5c0ad7d6" data-lake-id="ud23d9c45" id="ud23d9c45"><code data-lake-id="uf64b44fd" id="uf64b44fd"><span data-lake-id="u617b3423" id="u617b3423">id</span></code><span data-lake-id="uac6af30d" id="uac6af30d">：书籍的唯一标识符（主键）。</span></li><li fid="u5c0ad7d6" data-lake-id="uac0c9a67" id="uac0c9a67"><code data-lake-id="u85aa17e5" id="u85aa17e5"><span data-lake-id="u7c4bb9fd" id="u7c4bb9fd">title</span></code><span data-lake-id="u482b0ed1" id="u482b0ed1">：书名。</span></li><li fid="u5c0ad7d6" data-lake-id="u35f9e6e7" id="u35f9e6e7"><code data-lake-id="ue53a0863" id="ue53a0863"><span data-lake-id="ue381f686" id="ue381f686">author</span></code><span data-lake-id="u674207d7" id="u674207d7">：作者。</span></li><li fid="u5c0ad7d6" data-lake-id="uae472937" id="uae472937"><code data-lake-id="u64fd0efc" id="u64fd0efc"><span data-lake-id="uc57125bf" id="uc57125bf">isbn</span></code><span data-lake-id="ud07c2aa3" id="ud07c2aa3">：国际标准书号。</span></li><li fid="u5c0ad7d6" data-lake-id="u1c7a4e72" id="u1c7a4e72"><code data-lake-id="u747a0db8" id="u747a0db8"><span data-lake-id="ue7e347be" id="ue7e347be">published_date</span></code><span data-lake-id="u55106dbf" id="u55106dbf">：出版日期。</span></li></ul><card type="block" name="hr" value="data:%7B%22id%22%3A%22gVN66%22%7D"></card><h4 data-lake-id="ApqF1" id="ApqF1"><span data-lake-id="u4a583dd9" id="u4a583dd9">2. 设计接口</span></h4><p data-lake-id="uf625ef63" id="uf625ef63"><span data-lake-id="u67a0798e" id="u67a0798e">根据 RESTful 的设计原则，我们需要为书籍资源定义统一的接口。以下是具体的设计：</span></p><h4 data-lake-id="Pv5r9" id="Pv5r9"><span data-lake-id="u499d9f5a" id="u499d9f5a">（1）</span><strong><span data-lake-id="uad06fac4" id="uad06fac4">获取所有书籍</span></strong></h4><ul list="ueb8b8303"><li fid="u0afcb7e7" data-lake-id="u13db2630" id="u13db2630"><strong><span data-lake-id="u6abc5963" id="u6abc5963">HTTP 方法</span></strong><span data-lake-id="ua83a183b" id="ua83a183b">：</span><code data-lake-id="u5638ee4e" id="u5638ee4e"><span data-lake-id="u5805c98e" id="u5805c98e">GET</span></code></li><li fid="u0afcb7e7" data-lake-id="ua6406025" id="ua6406025"><strong><span data-lake-id="u4f65a29f" id="u4f65a29f">URL</span></strong><span data-lake-id="u4f998df6" id="u4f998df6">：</span><code data-lake-id="u73cdab48" id="u73cdab48"><span data-lake-id="uf4acd0a5" id="uf4acd0a5">/api/books</span></code></li><li fid="u0afcb7e7" data-lake-id="u0b6474e7" id="u0b6474e7"><strong><span data-lake-id="u8916c859" id="u8916c859">功能</span></strong><span data-lake-id="u5af0c5b7" id="u5af0c5b7">：返回图书馆中所有书籍的列表。</span></li><li fid="u0afcb7e7" data-lake-id="u096ce10e" id="u096ce10e"><strong><span data-lake-id="uaf2fb58c" id="uaf2fb58c">返回数据</span></strong><span data-lake-id="u7409a3d6" id="u7409a3d6">：</span></li></ul><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22json%22%2C%22code%22%3A%22%5B%5Cn%20%20%7B%5Cn%20%20%20%20%5C%22id%5C%22%3A%201%2C%5Cn%20%20%20%20%5C%22title%5C%22%3A%20%5C%22%E3%80%8A%E7%99%BE%E5%B9%B4%E5%AD%A4%E7%8B%AC%E3%80%8B%5C%22%2C%5Cn%20%20%20%20%5C%22author%5C%22%3A%20%5C%22%E5%8A%A0%E8%A5%BF%E4%BA%9A%C2%B7%E9%A9%AC%E5%B0%94%E5%85%8B%E6%96%AF%5C%22%2C%5Cn%20%20%20%20%5C%22isbn%5C%22%3A%20%5C%229787544274428%5C%22%2C%5Cn%20%20%20%20%5C%22published_date%5C%22%3A%20%5C%221967-05-01%5C%22%5Cn%20%20%7D%2C%5Cn%20%20%7B%5Cn%20%20%20%20%5C%22id%5C%22%3A%202%2C%5Cn%20%20%20%20%5C%22title%5C%22%3A%20%5C%22%E3%80%8A%E5%B9%B3%E5%87%A1%E7%9A%84%E4%B8%96%E7%95%8C%E3%80%8B%5C%22%2C%5Cn%20%20%20%20%5C%22author%5C%22%3A%20%5C%22%E8%B7%AF%E9%81%A5%5C%22%2C%5Cn%20%20%20%20%5C%22isbn%5C%22%3A%20%5C%229787530212941%5C%22%2C%5Cn%20%20%20%20%5C%22published_date%5C%22%3A%20%5C%221986-12-01%5C%22%5Cn%20%20%7D%5Cn%5D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22O0rjw%22%7D"></card><h4 data-lake-id="WBQUa" id="WBQUa"><span data-lake-id="u4dfcfc8d" id="u4dfcfc8d">（2）</span><strong><span data-lake-id="u9ce7d5d4" id="u9ce7d5d4">获取某一本特定书籍</span></strong></h4><ul list="u2d6c2060"><li fid="ucb9f28fe" data-lake-id="u7c63b354" id="u7c63b354"><strong><span data-lake-id="u4ab17e1f" id="u4ab17e1f">HTTP 方法</span></strong><span data-lake-id="u218f78ad" id="u218f78ad">：</span><code data-lake-id="u0c8f005d" id="u0c8f005d"><span data-lake-id="u1ef5038a" id="u1ef5038a">GET</span></code></li><li fid="ucb9f28fe" data-lake-id="u6b577d25" id="u6b577d25"><strong><span data-lake-id="u00d5b534" id="u00d5b534">URL</span></strong><span data-lake-id="ufbf0c198" id="ufbf0c198">：</span><code data-lake-id="u1f0b9635" id="u1f0b9635"><span data-lake-id="u0538dd73" id="u0538dd73">/api/books/{id}</span></code><span data-lake-id="u8a073333" id="u8a073333">（</span><code data-lake-id="uf7730976" id="uf7730976"><span data-lake-id="u9107c98c" id="u9107c98c">{id}</span></code><span data-lake-id="ud9c9841f" id="ud9c9841f"> 是书籍的唯一标识符）</span></li><li fid="ucb9f28fe" data-lake-id="u44b0ba9a" id="u44b0ba9a"><strong><span data-lake-id="u38a74702" id="u38a74702">功能</span></strong><span data-lake-id="uc7890b8c" id="uc7890b8c">：根据书籍的 </span><code data-lake-id="u8ff04236" id="u8ff04236"><span data-lake-id="ud1d2adfa" id="ud1d2adfa">id</span></code><span data-lake-id="u2c90c262" id="u2c90c262"> 返回该书的详细信息。</span></li><li fid="ucb9f28fe" data-lake-id="uc9324ec4" id="uc9324ec4"><strong><span data-lake-id="u4240fe5e" id="u4240fe5e">示例请求</span></strong><span data-lake-id="ue913ace8" id="ue913ace8">：</span><code data-lake-id="u62d6ba8b" id="u62d6ba8b"><span data-lake-id="u4f5ae02d" id="u4f5ae02d">GET /api/books/1</span></code></li><li fid="ucb9f28fe" data-lake-id="u239a987b" id="u239a987b"><strong><span data-lake-id="u0d1bb074" id="u0d1bb074">返回数据</span></strong><span data-lake-id="u191ad185" id="u191ad185">：</span></li></ul><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20%5C%22id%5C%22%3A%201%2C%5Cn%20%20%5C%22title%5C%22%3A%20%5C%22%E3%80%8A%E7%99%BE%E5%B9%B4%E5%AD%A4%E7%8B%AC%E3%80%8B%5C%22%2C%5Cn%20%20%5C%22author%5C%22%3A%20%5C%22%E5%8A%A0%E8%A5%BF%E4%BA%9A%C2%B7%E9%A9%AC%E5%B0%94%E5%85%8B%E6%96%AF%5C%22%2C%5Cn%20%20%5C%22isbn%5C%22%3A%20%5C%229787544274428%5C%22%2C%5Cn%20%20%5C%22published_date%5C%22%3A%20%5C%221967-05-01%5C%22%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22H0DK3%22%7D"></card><h4 data-lake-id="Xfi3l" id="Xfi3l"><span data-lake-id="u8c2991f3" id="u8c2991f3">（3）</span><strong><span data-lake-id="u2798af23" id="u2798af23">添加一本新书</span></strong></h4><ul list="uc5a2b0a9"><li fid="u1db1a57c" data-lake-id="u11efea97" id="u11efea97"><strong><span data-lake-id="u3bb29e07" id="u3bb29e07">HTTP 方法</span></strong><span data-lake-id="u8d4cb9b7" id="u8d4cb9b7">：</span><code data-lake-id="uc87a64a8" id="uc87a64a8"><span data-lake-id="u3e86dc69" id="u3e86dc69">POST</span></code></li><li fid="u1db1a57c" data-lake-id="u98c236db" id="u98c236db"><strong><span data-lake-id="uc00d7383" id="uc00d7383">URL</span></strong><span data-lake-id="u95fa5649" id="u95fa5649">：</span><code data-lake-id="u6171f79c" id="u6171f79c"><span data-lake-id="u522cbaf9" id="u522cbaf9">/api/books</span></code></li><li fid="u1db1a57c" data-lake-id="u9a1db981" id="u9a1db981"><strong><span data-lake-id="u29ea6d3a" id="u29ea6d3a">功能</span></strong><span data-lake-id="u5b8b2965" id="u5b8b2965">：创建一本新书，并将其保存到数据库中。</span></li><li fid="u1db1a57c" data-lake-id="uf04c7fe3" id="uf04c7fe3"><strong><span data-lake-id="uccfa84ac" id="uccfa84ac">请求体</span></strong><span data-lake-id="ua75cd9a2" id="ua75cd9a2">：</span></li></ul><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20%5C%22title%5C%22%3A%20%5C%22%E3%80%8A%E6%B4%BB%E7%9D%80%E3%80%8B%5C%22%2C%5Cn%20%20%5C%22author%5C%22%3A%20%5C%22%E4%BD%99%E5%8D%8E%5C%22%2C%5Cn%20%20%5C%22isbn%5C%22%3A%20%5C%229787530202922%5C%22%2C%5Cn%20%20%5C%22published_date%5C%22%3A%20%5C%221993-06-01%5C%22%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22qeo7R%22%7D"></card><ul list="uc5a2b0a9" start="5"><li fid="u1db1a57c" data-lake-id="u398ca479" id="u398ca479"><strong><span data-lake-id="u3674441c" id="u3674441c">返回数据</span></strong><span data-lake-id="ub242af9b" id="ub242af9b">：</span></li></ul><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20%5C%22id%5C%22%3A%203%2C%5Cn%20%20%5C%22title%5C%22%3A%20%5C%22%E3%80%8A%E6%B4%BB%E7%9D%80%E3%80%8B%5C%22%2C%5Cn%20%20%5C%22author%5C%22%3A%20%5C%22%E4%BD%99%E5%8D%8E%5C%22%2C%5Cn%20%20%5C%22isbn%5C%22%3A%20%5C%229787530202922%5C%22%2C%5Cn%20%20%5C%22published_date%5C%22%3A%20%5C%221993-06-01%5C%22%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22F711p%22%7D"></card><h4 data-lake-id="SpP4h" id="SpP4h"><span data-lake-id="ud284a3e5" id="ud284a3e5">（4）</span><strong><span data-lake-id="u4ea1f357" id="u4ea1f357">更新某本书的信息</span></strong></h4><ul list="u2aac8df3"><li fid="uf80f0760" data-lake-id="u44377d60" id="u44377d60"><strong><span data-lake-id="u2992259a" id="u2992259a">HTTP 方法</span></strong><span data-lake-id="u430da1f9" id="u430da1f9">：</span><code data-lake-id="u5344861f" id="u5344861f"><span data-lake-id="udb864ff8" id="udb864ff8">PUT</span></code></li><li fid="uf80f0760" data-lake-id="u699293ce" id="u699293ce"><strong><span data-lake-id="u29788e01" id="u29788e01">URL</span></strong><span data-lake-id="u0a344eeb" id="u0a344eeb">：</span><code data-lake-id="u40d96c2b" id="u40d96c2b"><span data-lake-id="ue0668c2e" id="ue0668c2e">/api/books/{id}</span></code><span data-lake-id="u9492b219" id="u9492b219">（</span><code data-lake-id="u41eda9eb" id="u41eda9eb"><span data-lake-id="uab5c1fca" id="uab5c1fca">{id}</span></code><span data-lake-id="u08d23b7e" id="u08d23b7e"> 是书籍的唯一标识符）</span></li><li fid="uf80f0760" data-lake-id="u42967962" id="u42967962"><strong><span data-lake-id="u054e298b" id="u054e298b">功能</span></strong><span data-lake-id="u74fe7787" id="u74fe7787">：根据书籍的 </span><code data-lake-id="ud81d43ed" id="ud81d43ed"><span data-lake-id="u5b7bde78" id="u5b7bde78">id</span></code><span data-lake-id="ub227c84e" id="ub227c84e"> 更新该书的信息。</span></li><li fid="uf80f0760" data-lake-id="u4dbec00f" id="u4dbec00f"><strong><span data-lake-id="u459eb298" id="u459eb298">示例请求</span></strong><span data-lake-id="u7610fe90" id="u7610fe90">：</span><code data-lake-id="u1db9e225" id="u1db9e225"><span data-lake-id="ud390d74d" id="ud390d74d">PUT /api/books/1</span></code></li><li fid="uf80f0760" data-lake-id="u8638abef" id="u8638abef"><strong><span data-lake-id="u5e066927" id="u5e066927">请求体</span></strong><span data-lake-id="u74716d29" id="u74716d29">：</span></li></ul><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20%5C%22title%5C%22%3A%20%5C%22%E3%80%8A%E7%99%BE%E5%B9%B4%E5%AD%A4%E7%8B%AC%E3%80%8B%EF%BC%88%E4%BF%AE%E8%AE%A2%E7%89%88%EF%BC%89%5C%22%2C%5Cn%20%20%5C%22author%5C%22%3A%20%5C%22%E5%8A%A0%E8%A5%BF%E4%BA%9A%C2%B7%E9%A9%AC%E5%B0%94%E5%85%8B%E6%96%AF%5C%22%2C%5Cn%20%20%5C%22isbn%5C%22%3A%20%5C%229787544274428%5C%22%2C%5Cn%20%20%5C%22published_date%5C%22%3A%20%5C%221967-05-01%5C%22%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22yTD28%22%7D"></card><ul list="u2aac8df3" start="6"><li fid="uf80f0760" data-lake-id="u3f823401" id="u3f823401"><strong><span data-lake-id="u9d0a62a6" id="u9d0a62a6">返回数据</span></strong><span data-lake-id="u41788ae0" id="u41788ae0">：</span></li></ul><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20%5C%22id%5C%22%3A%201%2C%5Cn%20%20%5C%22title%5C%22%3A%20%5C%22%E3%80%8A%E7%99%BE%E5%B9%B4%E5%AD%A4%E7%8B%AC%E3%80%8B%EF%BC%88%E4%BF%AE%E8%AE%A2%E7%89%88%EF%BC%89%5C%22%2C%5Cn%20%20%5C%22author%5C%22%3A%20%5C%22%E5%8A%A0%E8%A5%BF%E4%BA%9A%C2%B7%E9%A9%AC%E5%B0%94%E5%85%8B%E6%96%AF%5C%22%2C%5Cn%20%20%5C%22isbn%5C%22%3A%20%5C%229787544274428%5C%22%2C%5Cn%20%20%5C%22published_date%5C%22%3A%20%5C%221967-05-01%5C%22%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22PZI5R%22%7D"></card><h4 data-lake-id="drlEx" id="drlEx"><span data-lake-id="ua61b49df" id="ua61b49df">（5）</span><strong><span data-lake-id="ua22365ae" id="ua22365ae">删除某本书</span></strong></h4><ul list="u6e832d71"><li fid="uf425cdb6" data-lake-id="u874b202d" id="u874b202d"><strong><span data-lake-id="uaad0ca63" id="uaad0ca63">HTTP 方法</span></strong><span data-lake-id="uc7cfbe6a" id="uc7cfbe6a">：</span><code data-lake-id="u486e1b5b" id="u486e1b5b"><span data-lake-id="u73bbce65" id="u73bbce65">DELETE</span></code></li><li fid="uf425cdb6" data-lake-id="u767f1c43" id="u767f1c43"><strong><span data-lake-id="u4d15b551" id="u4d15b551">URL</span></strong><span data-lake-id="uc7a7b23b" id="uc7a7b23b">：</span><code data-lake-id="uaf77e425" id="uaf77e425"><span data-lake-id="u89a72e53" id="u89a72e53">/api/books/{id}</span></code><span data-lake-id="u8770348e" id="u8770348e">（</span><code data-lake-id="u739c1780" id="u739c1780"><span data-lake-id="ufa0e13b1" id="ufa0e13b1">{id}</span></code><span data-lake-id="u410737cd" id="u410737cd"> 是书籍的唯一标识符）</span></li><li fid="uf425cdb6" data-lake-id="u7c1bcb94" id="u7c1bcb94"><strong><span data-lake-id="u3febc400" id="u3febc400">功能</span></strong><span data-lake-id="ua9197a11" id="ua9197a11">：根据书籍的 </span><code data-lake-id="uc5d446ed" id="uc5d446ed"><span data-lake-id="u31a3f513" id="u31a3f513">id</span></code><span data-lake-id="u1f6405a0" id="u1f6405a0"> 删除该书。</span></li><li fid="uf425cdb6" data-lake-id="u69a94f86" id="u69a94f86"><strong><span data-lake-id="u6f75cf73" id="u6f75cf73">示例请求</span></strong><span data-lake-id="ud0e16815" id="ud0e16815">：</span><code data-lake-id="uacfda25b" id="uacfda25b"><span data-lake-id="ue1ddbcd5" id="ue1ddbcd5">DELETE /api/books/2</span></code></li><li fid="uf425cdb6" data-lake-id="u4fde5665" id="u4fde5665"><strong><span data-lake-id="u29da546e" id="u29da546e">返回数据</span></strong><span data-lake-id="uaa91b42b" id="uaa91b42b">：</span></li></ul><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20%5C%22message%5C%22%3A%20%5C%22%E4%B9%A6%E7%B1%8D%E5%88%A0%E9%99%A4%E6%88%90%E5%8A%9F%5C%22%2C%5Cn%20%20%5C%22deletedBookId%5C%22%3A%202%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22FjwtS%22%7D"></card><card type="block" name="hr" value="data:%7B%22id%22%3A%22hU5Qx%22%7D"></card><h4 data-lake-id="ksasn" id="ksasn"><span data-lake-id="u1e0be144" id="u1e0be144">3. 接口设计总结</span></h4><p data-lake-id="uc1547fef" id="uc1547fef"><span data-lake-id="uece66f11" id="uece66f11">通过以上设计，我们为图书馆的书籍资源定义了一组 RESTful 接口。这些接口遵循 REST 原则：</span></p><ul list="u005e7573"><li fid="u55b37877" data-lake-id="u1350fa14" id="u1350fa14"><span data-lake-id="u42baa930" id="u42baa930">使用统一的 HTTP 方法（GET、POST、PUT、DELETE）来操作资源。</span></li><li fid="u55b37877" data-lake-id="u137363e0" id="u137363e0"><span data-lake-id="u38f56c41" id="u38f56c41">每个资源都有一个唯一的 URL（如 </span><code data-lake-id="u6d1850f3" id="u6d1850f3"><span data-lake-id="ua85cb2b3" id="ua85cb2b3">/api/books/{id}</span></code><span data-lake-id="u6aca9ac9" id="u6aca9ac9">）。</span></li><li fid="u55b37877" data-lake-id="u4b9a0959" id="u4b9a0959"><span data-lake-id="uc279ef24" id="uc279ef24">接口简单、直观，易于理解和使用。</span></li></ul><h4 data-lake-id="XpG9g" id="XpG9g"><span data-lake-id="u02f77f23" id="u02f77f23">4. 实现示例（伪代码）</span></h4><p data-lake-id="ub2783cbf" id="ub2783cbf"><span data-lake-id="ua03c1b95" id="ua03c1b95">假设我们使用 Spring Boot 框架来实现这些接口，以下是伪代码示例：</span></p><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22java%22%2C%22code%22%3A%22%40RestController%5Cn%40RequestMapping(%5C%22%2Fapi%2Fbooks%5C%22)%5Cnpublic%20class%20BookController%20%7B%5Cn%5Cn%20%20%20%20%2F%2F%20%E8%8E%B7%E5%8F%96%E6%89%80%E6%9C%89%E4%B9%A6%E7%B1%8D%5Cn%20%20%20%20%40GetMapping%5Cn%20%20%20%20public%20List%3CBook%3E%20getAllBooks()%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%E4%BB%8E%E6%95%B0%E6%8D%AE%E5%BA%93%E8%8E%B7%E5%8F%96%E6%89%80%E6%9C%89%E4%B9%A6%E7%B1%8D%5Cn%20%20%20%20%20%20%20%20return%20bookService.findAll()%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%20%E8%8E%B7%E5%8F%96%E6%9F%90%E6%9C%AC%E4%B9%A6%5Cn%20%20%20%20%40GetMapping(%5C%22%2F%7Bid%7D%5C%22)%5Cn%20%20%20%20public%20Book%20getBookById(%40PathVariable%20Long%20id)%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%E6%A0%B9%E6%8D%AE%20ID%20%E8%8E%B7%E5%8F%96%E4%B9%A6%E7%B1%8D%5Cn%20%20%20%20%20%20%20%20return%20bookService.findById(id)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%20%E6%B7%BB%E5%8A%A0%E6%96%B0%E4%B9%A6%5Cn%20%20%20%20%40PostMapping%5Cn%20%20%20%20public%20Book%20addBook(%40RequestBody%20Book%20book)%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%E4%BF%9D%E5%AD%98%E6%96%B0%E4%B9%A6%E5%88%B0%E6%95%B0%E6%8D%AE%E5%BA%93%5Cn%20%20%20%20%20%20%20%20return%20bookService.save(book)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%20%E6%9B%B4%E6%96%B0%E4%B9%A6%E7%B1%8D%5Cn%20%20%20%20%40PutMapping(%5C%22%2F%7Bid%7D%5C%22)%5Cn%20%20%20%20public%20Book%20updateBook(%40PathVariable%20Long%20id%2C%20%40RequestBody%20Book%20book)%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%E6%9B%B4%E6%96%B0%E4%B9%A6%E7%B1%8D%E4%BF%A1%E6%81%AF%5Cn%20%20%20%20%20%20%20%20return%20bookService.update(id%2C%20book)%3B%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%2F%2F%20%E5%88%A0%E9%99%A4%E4%B9%A6%E7%B1%8D%5Cn%20%20%20%20%40DeleteMapping(%5C%22%2F%7Bid%7D%5C%22)%5Cn%20%20%20%20public%20void%20deleteBook(%40PathVariable%20Long%20id)%20%7B%5Cn%20%20%20%20%20%20%20%20%2F%2F%20%E5%88%A0%E9%99%A4%E4%B9%A6%E7%B1%8D%5Cn%20%20%20%20%20%20%20%20bookService.delete(id)%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22f2zkW%22%7D"></card><h5 data-lake-id="H7JEt" id="H7JEt"><code data-lake-id="u0a54e7cf" id="u0a54e7cf"><span data-lake-id="u88ed813e" id="u88ed813e" style="color: var(--text-primary)">@RequestParam</span></code><span data-lake-id="ud55f536a" id="ud55f536a" style="color: rgb(6, 6, 7)"> 和 </span><code data-lake-id="u0a0c3688" id="u0a0c3688"><span data-lake-id="uf8e31cf7" id="uf8e31cf7" style="color: var(--text-primary)">@PathVariable</span></code><span data-lake-id="u2c58d8c1" id="u2c58d8c1" style="color: rgb(6, 6, 7)"> 的对比</span></h5><table data-lake-id="DLCoG" id="DLCoG" margin="true" class="lake-table" style="width: 642px"><colgroup><col width="98"><col width="300"><col width="244"></colgroup><tbody><tr data-lake-id="uc28a8949" id="uc28a8949" style="height: 38px"><td data-lake-id="u8ab3e07b" id="u8ab3e07b"><p data-lake-id="u56a3487d" id="u56a3487d" style="text-align: left"><strong><span data-lake-id="uc004e5a1" id="uc004e5a1" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">特性</span></strong></p></td><td data-lake-id="u3e30da44" id="u3e30da44"><p data-lake-id="uf5550af2" id="uf5550af2" style="text-align: justify"><code data-lake-id="u60d6ea6a" id="u60d6ea6a"><strong><span data-lake-id="u9a598501" id="u9a598501" class="lake-fontsize-11" style="color: var(--text-primary)">@RequestParam</span></strong></code></p></td><td data-lake-id="ue0fa10ae" id="ue0fa10ae"><p data-lake-id="u7f95e78d" id="u7f95e78d" style="text-align: justify"><code data-lake-id="udbe3d712" id="udbe3d712"><strong><span data-lake-id="ua4bb8156" id="ua4bb8156" class="lake-fontsize-11" style="color: var(--text-primary)">@PathVariable</span></strong></code></p></td></tr><tr data-lake-id="u5ff0cda3" id="u5ff0cda3"><td data-lake-id="u5dd161d5" id="u5dd161d5"><p data-lake-id="ubde0b50a" id="ubde0b50a" style="text-align: left"><strong><span data-lake-id="ud50056d7" id="ud50056d7" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">用途</span></strong></p></td><td data-lake-id="uc53fadc9" id="uc53fadc9"><p data-lake-id="u92724cf0" id="u92724cf0" style="text-align: left"><span data-lake-id="ue3af882b" id="ue3af882b" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">绑定查询参数或表单数据</span></p></td><td data-lake-id="u979a1790" id="u979a1790"><p data-lake-id="u24062366" id="u24062366" style="text-align: left"><span data-lake-id="u65d40241" id="u65d40241" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">绑定路径中的变量</span></p></td></tr><tr data-lake-id="uc3bb0c00" id="uc3bb0c00"><td data-lake-id="ufce346e7" id="ufce346e7"><p data-lake-id="u2a0dc30a" id="u2a0dc30a" style="text-align: left"><strong><span data-lake-id="ua062bcda" id="ua062bcda" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">请求类型</span></strong></p></td><td data-lake-id="u9cdaf5f1" id="u9cdaf5f1"><p data-lake-id="ub5fc1087" id="ub5fc1087" style="text-align: left"><span data-lake-id="u667b499e" id="u667b499e" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">GET 请求的查询参数、POST 请求的表单数据</span></p></td><td data-lake-id="u14bf045c" id="u14bf045c"><p data-lake-id="u3975a532" id="u3975a532" style="text-align: left"><span data-lake-id="u5d4077ce" id="u5d4077ce" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">GET/POST 请求的路径变量</span></p></td></tr><tr data-lake-id="u4e833c48" id="u4e833c48"><td data-lake-id="uf506c27b" id="uf506c27b"><p data-lake-id="u9173efe8" id="u9173efe8" style="text-align: left"><strong><span data-lake-id="u5af7ffc8" id="u5af7ffc8" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">示例</span></strong></p></td><td data-lake-id="u9d0f16de" id="u9d0f16de"><p data-lake-id="u71b3bead" id="u71b3bead" style="text-align: justify"><code data-lake-id="ub89b4173" id="ub89b4173"><span data-lake-id="u1c0db0a5" id="u1c0db0a5" class="lake-fontsize-11" style="color: var(--text-primary)">/users?name=John&amp;age=30</span></code></p></td><td data-lake-id="u2fb684e0" id="u2fb684e0"><p data-lake-id="uc741b8df" id="uc741b8df" style="text-align: justify"><code data-lake-id="u9b8a82c3" id="u9b8a82c3"><span data-lake-id="uc65c795f" id="uc65c795f" class="lake-fontsize-11" style="color: var(--text-primary)">/users/123</span></code></p></td></tr><tr data-lake-id="u019da125" id="u019da125" style="height: 38px"><td data-lake-id="uaee70c76" id="uaee70c76"><p data-lake-id="u1ca1bee2" id="u1ca1bee2" style="text-align: left"><strong><span data-lake-id="u50e38453" id="u50e38453" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">默认值</span></strong></p></td><td data-lake-id="u9beb4534" id="u9beb4534"><p data-lake-id="u6c8909d4" id="u6c8909d4" style="text-align: left"><span data-lake-id="ub8869b2b" id="ub8869b2b" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">支持默认值（</span><code data-lake-id="uc7eab16b" id="uc7eab16b"><span data-lake-id="udd2354e8" id="udd2354e8" class="lake-fontsize-11" style="color: var(--text-primary)">defaultValue</span></code><span data-lake-id="u7f42ea98" id="u7f42ea98" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">）</span></p></td><td data-lake-id="u6caa8b30" id="u6caa8b30"><p data-lake-id="u0aa1615f" id="u0aa1615f" style="text-align: left"><span data-lake-id="ub37e3837" id="ub37e3837" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">不支持默认值</span></p></td></tr><tr data-lake-id="uadec08ae" id="uadec08ae"><td data-lake-id="u2e5f3d21" id="u2e5f3d21"><p data-lake-id="u67a0f91a" id="u67a0f91a" style="text-align: left"><strong><span data-lake-id="u1350f054" id="u1350f054" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">是否必须</span></strong></p></td><td data-lake-id="u7bb19a68" id="u7bb19a68"><p data-lake-id="u68d1c0db" id="u68d1c0db" style="text-align: left"><span data-lake-id="uad648498" id="uad648498" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">可选（</span><code data-lake-id="udb3b9556" id="udb3b9556"><span data-lake-id="u912cbb09" id="u912cbb09" class="lake-fontsize-11" style="color: var(--text-primary)">required = false</span></code><span data-lake-id="ufcce8f02" id="ufcce8f02" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">）</span></p></td><td data-lake-id="ub12e01ee" id="ub12e01ee"><p data-lake-id="uedf08d99" id="uedf08d99" style="text-align: left"><span data-lake-id="u9cdae193" id="u9cdae193" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">必须，路径变量通常不能省略</span></p></td></tr><tr data-lake-id="ubc01c57c" id="ubc01c57c"><td data-lake-id="u1a55555f" id="u1a55555f"><p data-lake-id="ua998dbe0" id="ua998dbe0" style="text-align: left"><strong><span data-lake-id="ub393fdd8" id="ub393fdd8" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">数据类型</span></strong></p></td><td data-lake-id="u26936b62" id="u26936b62"><p data-lake-id="uc57447be" id="uc57447be" style="text-align: left"><span data-lake-id="u31c24aca" id="u31c24aca" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">任意类型（通过类型转换器转换）</span></p></td><td data-lake-id="u39c1a25b" id="u39c1a25b"><p data-lake-id="u27ba8c53" id="u27ba8c53" style="text-align: left"><span data-lake-id="u330cb201" id="u330cb201" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">任意类型（通过类型转换器转换）</span></p></td></tr></tbody></table><p data-lake-id="u48a48129" id="u48a48129"><strong><span data-lake-id="u5b25ba52" id="u5b25ba52" style="color: rgb(6, 6, 7)">总结</span></strong></p><ul list="u0c6a6845"><li fid="ud2c99b73" data-lake-id="u4d567026" id="u4d567026"><code data-lake-id="u9db6160c" id="u9db6160c"><strong><span data-lake-id="uf7133717" id="uf7133717" class="lake-fontsize-11" style="color: var(--text-primary)">@RequestParam</span></strong></code><span data-lake-id="uc8328c8f" id="uc8328c8f" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">：用于处理查询参数，适用于分页、搜索、排序等场景。</span></li><li fid="ud2c99b73" data-lake-id="ub8fe2a9c" id="ub8fe2a9c"><code data-lake-id="u1d52f532" id="u1d52f532"><strong><span data-lake-id="ue5c4f744" id="ue5c4f744" class="lake-fontsize-11" style="color: var(--text-primary)">@PathVariable</span></strong></code><span data-lake-id="u21c409cc" id="u21c409cc" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">：用于处理路径变量，适用于资源的 CRUD 操作。</span></li><li fid="ud2c99b73" data-lake-id="ubbeeaf24" id="ubbeeaf24"><strong><span data-lake-id="u1fe765b7" id="u1fe765b7" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">结合使用</span></strong><span data-lake-id="uf5eb7533" id="uf5eb7533" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">：在 RESTful API 中，</span><code data-lake-id="u930ece2d" id="u930ece2d"><span data-lake-id="u5046894f" id="u5046894f" class="lake-fontsize-11" style="color: var(--text-primary)">@RequestParam</span></code><span data-lake-id="u9472c2da" id="u9472c2da" class="lake-fontsize-11" style="color: rgb(6, 6, 7)"> 和 </span><code data-lake-id="uba2d2b57" id="uba2d2b57"><span data-lake-id="u2ff081cb" id="u2ff081cb" class="lake-fontsize-11" style="color: var(--text-primary)">@PathVariable</span></code><span data-lake-id="u59b4c8ed" id="u59b4c8ed" class="lake-fontsize-11" style="color: rgb(6, 6, 7)"> 可以结合使用，以实现更灵活的资源访问和查询功能。</span></li><li fid="ud2c99b73" data-lake-id="ubdcc9d0d" id="ubdcc9d0d"><code data-lake-id="ubcd1f329" id="ubcd1f329"><span data-lake-id="ucbc8ff66" id="ucbc8ff66" style="color: rgb(6, 6, 7)">@RequestBody</span></code><span data-lake-id="u21d1f717" id="u21d1f717" style="color: rgb(6, 6, 7)"> 的作用</span></li></ul><p data-lake-id="u6ac8fda7" id="u6ac8fda7"><code data-lake-id="u826424f4" id="u826424f4"><span data-lake-id="u2819daa6" id="u2819daa6" class="lake-fontsize-11" style="color: rgb(6, 6, 7)">@RequestBody</span></code><span data-lake-id="u2bbac595" id="u2bbac595" class="lake-fontsize-11" style="color: rgb(6, 6, 7)"> 用于从请求的 </span><strong><span data-lake-id="ufbdb0bf2" id="ufbdb0bf2">正文（Body）</span></strong><span data-lake-id="uae5692ac" id="uae5692ac" class="lake-fontsize-11" style="color: rgb(6, 6, 7)"> 中读取数据，并将其绑定到方法的参数上，将数据自动反序列化为 Java 对象。它通常用于处理 POST 或 PUT 请求，这些请求通常携带 JSON 或 XML 格式的请求体。</span></p><h3 data-lake-id="mHRMb" id="mHRMb"><span data-lake-id="uf7ae2b3b" id="uf7ae2b3b">总结</span></h3><p data-lake-id="u741863d6" id="u741863d6"><span data-lake-id="u0338faa4" id="u0338faa4">通过这个简单的例子，我们可以看到 RESTful 接口的设计步骤：</span></p><ol list="uecb867e5"><li fid="u5e961bf1" data-lake-id="u34ff8349" id="u34ff8349"><span data-lake-id="u6cdb7e45" id="u6cdb7e45">确定资源（如书籍）。</span></li><li fid="u5e961bf1" data-lake-id="u699a0567" id="u699a0567"><span data-lake-id="u7b8ad9a7" id="u7b8ad9a7">为资源定义统一的 URL 和 HTTP 方法。</span></li><li fid="u5e961bf1" data-lake-id="u060c6d1b" id="u060c6d1b"><span data-lake-id="u5d1d0a43" id="u5d1d0a43">根据需求实现具体的接口功能。</span></li></ol><h1 data-lake-id="MJTda" id="MJTda"><span data-lake-id="u44892d2e" id="u44892d2e">RESTfuI接口URL命名原则</span></h1><p data-lake-id="ub1c97f74" id="ub1c97f74"><span data-lake-id="u9c34ba16" id="u9c34ba16">RESTful 接口的 URL 命名需要遵循一定的原则，以确保接口的可读性、一致性和可维护性。以下是 RESTful 接口 URL 命名的最佳实践：</span></p><h4 data-lake-id="QJdFx" id="QJdFx"><span data-lake-id="uf25b8e9c" id="uf25b8e9c">1. </span><strong><span data-lake-id="uf93581c6" id="uf93581c6">使用小写字母</span></strong></h4><ul list="ucf185256"><li fid="u4f249516" data-lake-id="ua531012f" id="ua531012f"><span data-lake-id="u670bcce1" id="u670bcce1">URL 应该使用小写字母，避免大小写混合。</span></li><li fid="u4f249516" data-lake-id="u5c52476c" id="u5c52476c"><span data-lake-id="u9262c963" id="u9262c963">示例：</span><code data-lake-id="uc570fae0" id="uc570fae0"><span data-lake-id="uf2278b10" id="uf2278b10">/api/users</span></code><span data-lake-id="u8567b6f2" id="u8567b6f2"> 而不是 </span><code data-lake-id="u804669a5" id="u804669a5"><span data-lake-id="u646c06fb" id="u646c06fb">/api/Users</span></code><span data-lake-id="u4126e9ad" id="u4126e9ad">。</span></li></ul><h4 data-lake-id="M4jmg" id="M4jmg"><span data-lake-id="u3b22172e" id="u3b22172e">2. </span><strong><span data-lake-id="u81553f1d" id="u81553f1d">使用名词而非动词</span></strong></h4><ul list="uac159a3c"><li fid="uec9a9e30" data-lake-id="u3705df5b" id="u3705df5b"><span data-lake-id="u40167dd1" id="u40167dd1">URL 应该表示资源，而不是操作。因此，应该使用名词而不是动词。</span></li><li fid="uec9a9e30" data-lake-id="ucc5e9d7c" id="ucc5e9d7c"><span data-lake-id="u965f6926" id="u965f6926">错误示例：</span><code data-lake-id="udc38e0bd" id="udc38e0bd"><span data-lake-id="u5fbf0de1" id="u5fbf0de1">/getUser</span></code><span data-lake-id="u7d1501ad" id="u7d1501ad">、</span><code data-lake-id="u053d4d00" id="u053d4d00"><span data-lake-id="u71403d0f" id="u71403d0f">/deleteUser</span></code><span data-lake-id="u7fbe328e" id="u7fbe328e">。</span></li><li fid="uec9a9e30" data-lake-id="ue65a5957" id="ue65a5957"><span data-lake-id="uacb05f3b" id="uacb05f3b">正确示例：</span><code data-lake-id="u9aa645fb" id="u9aa645fb"><span data-lake-id="u992a3d7e" id="u992a3d7e">/users/{id}</span></code><span data-lake-id="uee140dcb" id="uee140dcb">。</span></li></ul><h4 data-lake-id="W1ryt" id="W1ryt"><span data-lake-id="u87c0c887" id="u87c0c887">3. </span><strong><span data-lake-id="u66350924" id="u66350924">使用复数形式</span></strong></h4><ul list="u8d785d94"><li fid="u00fccfab" data-lake-id="u9efb6130" id="u9efb6130"><span data-lake-id="u2c38ab25" id="u2c38ab25">对于集合资源，建议使用复数形式，以保持一致性，如：</span><code data-lake-id="u929387b9" id="u929387b9"><span data-lake-id="uc8055334" id="uc8055334">/users/{id}</span></code><span data-lake-id="udb8b1a33" id="udb8b1a33">。</span></li></ul><h4 data-lake-id="mgGAd" id="mgGAd"><span data-lake-id="u0dae2c4b" id="u0dae2c4b">4. </span><strong><span data-lake-id="u7e6ecb73" id="u7e6ecb73">使用连字符（-）</span></strong></h4><ul list="u14333a87"><li fid="u680417ea" data-lake-id="uef1e554a" id="uef1e554a"><span data-lake-id="ud4b0aa34" id="ud4b0aa34">多单词的资源名称应使用连字符（-）分隔，避免使用下划线（_）或驼峰命名。</span></li><li fid="u680417ea" data-lake-id="uf3d14b34" id="uf3d14b34"><span data-lake-id="u97af983a" id="u97af983a">错误示例：</span><code data-lake-id="ue7302ea3" id="ue7302ea3"><span data-lake-id="u9ae15af6" id="u9ae15af6">/user_profile</span></code><span data-lake-id="u9e8ed8d4" id="u9e8ed8d4">、</span><code data-lake-id="ue67b053e" id="ue67b053e"><span data-lake-id="u603a261a" id="u603a261a">/userProfile</span></code><span data-lake-id="u997fb3d1" id="u997fb3d1">。</span></li><li fid="u680417ea" data-lake-id="u3e3cac7a" id="u3e3cac7a"><span data-lake-id="ub2194fe5" id="ub2194fe5">正确示例：</span><code data-lake-id="ue443b663" id="ue443b663"><span data-lake-id="ucddae6d8" id="ucddae6d8">/user-profile</span></code><span data-lake-id="u7a86b81e" id="u7a86b81e">。</span></li></ul><h4 data-lake-id="O9tRe" id="O9tRe"><span data-lake-id="u111360e2" id="u111360e2">5. </span><strong><span data-lake-id="u62bcb4d7" id="u62bcb4d7">避免尾部斜杠</span></strong></h4><ul list="u13f6213b"><li fid="ua9ff1626" data-lake-id="u5b6178ff" id="u5b6178ff"><span data-lake-id="u74ac1df0" id="u74ac1df0">URL 不应以尾部斜杠结尾，以避免歧义。</span></li><li fid="ua9ff1626" data-lake-id="uc168bdc5" id="uc168bdc5"><span data-lake-id="u82620799" id="u82620799">错误示例：</span><code data-lake-id="u92ff2288" id="u92ff2288"><span data-lake-id="u88cf7ee8" id="u88cf7ee8">/api/users/</span></code><span data-lake-id="u68f4eead" id="u68f4eead">。</span></li><li fid="ua9ff1626" data-lake-id="ue9c59bf1" id="ue9c59bf1"><span data-lake-id="u464f133e" id="u464f133e">正确示例：</span><code data-lake-id="u4d42071b" id="u4d42071b"><span data-lake-id="ufdd086ec" id="ufdd086ec">/api/users</span></code><span data-lake-id="u35aec4a1" id="u35aec4a1">。</span></li></ul><h4 data-lake-id="xZxUJ" id="xZxUJ"><span data-lake-id="u817cc162" id="u817cc162">6. </span><strong><span data-lake-id="u222b21d0" id="u222b21d0">资源嵌套层次</span></strong></h4><ul list="ud66b4d3c"><li fid="u3586845b" data-lake-id="u76797331" id="u76797331"><span data-lake-id="uf84377d4" id="uf84377d4">资源嵌套应尽量简洁，避免过多层级，通常不超过两层。</span></li><li fid="u3586845b" data-lake-id="ubf33a163" id="ubf33a163"><span data-lake-id="u1ca2e050" id="u1ca2e050">错误示例：</span><code data-lake-id="u30628025" id="u30628025"><span data-lake-id="udbb36d3b" id="udbb36d3b">/api/users/{id}/orders/{orderId}/items</span></code><span data-lake-id="u41bd409b" id="u41bd409b">。</span></li><li fid="u3586845b" data-lake-id="ubafd558d" id="ubafd558d"><span data-lake-id="u950b0d9a" id="u950b0d9a">正确示例：</span><code data-lake-id="ufbd342e2" id="ufbd342e2"><span data-lake-id="u6cf34136" id="u6cf34136">/api/users/{id}/orders</span></code><span data-lake-id="u75959413" id="u75959413">。</span></li></ul><h4 data-lake-id="YjdK3" id="YjdK3"><span data-lake-id="u55f3d59d" id="u55f3d59d">7. </span><strong><span data-lake-id="uf8d546d4" id="uf8d546d4">版本控制</span></strong></h4><ul list="u6596a3ce"><li fid="u2a31b4a2" data-lake-id="u77762757" id="u77762757"><span data-lake-id="uecc794bd" id="uecc794bd">如果需要版本控制，可以在 URL 中包含版本号。</span></li><li fid="u2a31b4a2" data-lake-id="u5c02fb92" id="u5c02fb92"><span data-lake-id="u869c73fa" id="u869c73fa">示例：</span><code data-lake-id="ua64d5567" id="ua64d5567"><span data-lake-id="u5363497f" id="u5363497f">/v1/users</span></code><span data-lake-id="ue8513cab" id="ue8513cab">。</span></li></ul><h4 data-lake-id="htP9h" id="htP9h"><span data-lake-id="u9ab825f6" id="u9ab825f6">8. </span><strong><span data-lake-id="u4748050c" id="u4748050c">清晰且有意义的路径</span></strong></h4><ul list="u7c345dae"><li fid="u2fd5d3b3" data-lake-id="u572f967f" id="u572f967f"><span data-lake-id="u63ba1fa4" id="u63ba1fa4">资源名称应清晰且具有描述性，避免使用模糊的术语。</span></li><li fid="u2fd5d3b3" data-lake-id="u134b7df7" id="u134b7df7"><span data-lake-id="u650392ba" id="u650392ba">错误示例：</span><code data-lake-id="u5836bd2f" id="u5836bd2f"><span data-lake-id="uf8a3446c" id="uf8a3446c">/items/{id}</span></code><span data-lake-id="ud4035c33" id="ud4035c33">。</span></li><li fid="u2fd5d3b3" data-lake-id="u19c60f85" id="u19c60f85"><span data-lake-id="u3210a3cf" id="u3210a3cf">正确示例：</span><code data-lake-id="u65dbac0a" id="u65dbac0a"><span data-lake-id="u4b59a81c" id="u4b59a81c">/products/{productId}</span></code><span data-lake-id="u20653f54" id="u20653f54">。</span></li></ul><h2 data-lake-id="LBUSB" id="LBUSB"><span data-lake-id="uafee13f8" id="uafee13f8">复杂GET查询请求接口命名示例</span></h2><p data-lake-id="u219b8d8e" id="u219b8d8e"><span data-lake-id="u985d8571" id="u985d8571">在设计 RESTful 接口时，</span><code data-lake-id="u821babed" id="u821babed"><span data-lake-id="ufeb997e6" id="ufeb997e6">GET</span></code><span data-lake-id="uaa1e4231" id="uaa1e4231"> 请求通常用于获取资源，但有时我们需要进行复杂的查询，比如根据多个条件筛选资源。这种情况下，接口的命名和参数设计需要清晰、合理，以便于理解和使用。</span></p><h3 data-lake-id="wE0j8" id="wE0j8"><span data-lake-id="ua59b9147" id="ua59b9147">1. </span><strong><span data-lake-id="u31ef0ccb" id="u31ef0ccb">设计原则</span></strong></h3><p data-lake-id="uc299c829" id="uc299c829"><span data-lake-id="uf3c036c6" id="uf3c036c6">在设计复杂查询的 </span><code data-lake-id="u3827c7b2" id="u3827c7b2"><span data-lake-id="uf1edef3c" id="uf1edef3c">GET</span></code><span data-lake-id="uf56079bc" id="uf56079bc"> 接口时，应遵循以下原则：</span></p><ol list="u31b537b3"><li fid="u9b47d672" data-lake-id="ua177d6c1" id="ua177d6c1"><strong><span data-lake-id="u36a0c1d2" id="u36a0c1d2">保持 URL 简洁</span></strong><span data-lake-id="u185767a8" id="u185767a8">：尽量避免过长的路径。</span></li><li fid="u9b47d672" data-lake-id="u0ac72049" id="u0ac72049"><strong><span data-lake-id="uc16e36d3" id="uc16e36d3">使用查询参数（Query Parameters）</span></strong><span data-lake-id="u683bf6b2" id="u683bf6b2">：将复杂的查询条件作为查询参数传递，而不是放在路径中。</span></li><li fid="u9b47d672" data-lake-id="u2408b8b2" id="u2408b8b2"><strong><span data-lake-id="u2e103c7d" id="u2e103c7d">语义清晰</span></strong><span data-lake-id="u1da90f8d" id="u1da90f8d">：接口路径应清晰表达资源的类型，查询参数应具有明确的含义。</span></li><li fid="u9b47d672" data-lake-id="u5ed9685a" id="u5ed9685a"><strong><span data-lake-id="ua7a2cbdb" id="ua7a2cbdb">支持分页和排序</span></strong><span data-lake-id="u83c98bd2" id="u83c98bd2">：复杂查询通常需要支持分页和排序功能。</span></li><li fid="u9b47d672" data-lake-id="u40043738" id="u40043738"><strong><span data-lake-id="ucdf26680" id="ucdf26680">支持组合查询</span></strong><span data-lake-id="u652c0ec8" id="u652c0ec8">：允许客户端通过多个查询参数组合条件。</span></li></ol><h3 data-lake-id="pW4IS" id="pW4IS"><span data-lake-id="uf7c23272" id="uf7c23272">2. </span><strong><span data-lake-id="u5d1d765d" id="u5d1d765d">示例：用户查询接口</span></strong></h3><p data-lake-id="u8279cdae" id="u8279cdae"><span data-lake-id="uc3d22f1d" id="uc3d22f1d">假设我们有一个用户管理系统，需要支持以下查询功能：</span></p><ul list="u0d2305b2"><li fid="uca02f125" data-lake-id="ueb64ba72" id="ueb64ba72"><span data-lake-id="u594c39c7" id="u594c39c7">按用户名模糊查询。</span></li><li fid="uca02f125" data-lake-id="ueee0c848" id="ueee0c848"><span data-lake-id="u8690d1ad" id="u8690d1ad">按邮箱精确查询。</span></li><li fid="uca02f125" data-lake-id="u576e5f63" id="u576e5f63"><span data-lake-id="u2c5d65d7" id="u2c5d65d7">按年龄范围查询。</span></li><li fid="uca02f125" data-lake-id="u782b9a60" id="u782b9a60"><span data-lake-id="u3fd3cfd8" id="u3fd3cfd8">按注册日期范围查询。</span></li><li fid="uca02f125" data-lake-id="u9224d152" id="u9224d152"><span data-lake-id="u376aa7e9" id="u376aa7e9">支持分页和排序。</span></li></ul><h4 data-lake-id="fxh1h" id="fxh1h"><strong><span data-lake-id="u531e7069" id="u531e7069">接口设计</span></strong></h4><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22plain%22%2C%22code%22%3A%22GET%20%2Fapi%2Fusers%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22NqLbS%22%7D"></card><h4 data-lake-id="aaqHk" id="aaqHk"><strong><span data-lake-id="u3815bd32" id="u3815bd32">查询参数</span></strong></h4><ul list="u38f04b27"><li fid="u5940b261" data-lake-id="ud7c0a280" id="ud7c0a280"><code data-lake-id="u289774ad" id="u289774ad"><span data-lake-id="u1326c402" id="u1326c402">username</span></code><span data-lake-id="u5de61681" id="u5de61681">：用户名模糊匹配（支持通配符）。</span></li><li fid="u5940b261" data-lake-id="u5d1952d9" id="u5d1952d9"><code data-lake-id="u825f7604" id="u825f7604"><span data-lake-id="u83daf735" id="u83daf735">email</span></code><span data-lake-id="u3e7c80d0" id="u3e7c80d0">：邮箱精确匹配。</span></li><li fid="u5940b261" data-lake-id="u84ea9160" id="u84ea9160"><code data-lake-id="u97471ff3" id="u97471ff3"><span data-lake-id="ubad6ed89" id="ubad6ed89">ageMin</span></code><span data-lake-id="ucf4daa72" id="ucf4daa72"> 和 </span><code data-lake-id="ua9dd9238" id="ua9dd9238"><span data-lake-id="uee375213" id="uee375213">ageMax</span></code><span data-lake-id="u8d586ec6" id="u8d586ec6">：年龄范围。</span></li><li fid="u5940b261" data-lake-id="ubbfb3525" id="ubbfb3525"><code data-lake-id="ud277efc0" id="ud277efc0"><span data-lake-id="uc51f76bb" id="uc51f76bb">registeredAfter</span></code><span data-lake-id="udb65bb7e" id="udb65bb7e"> 和 </span><code data-lake-id="ua94ba964" id="ua94ba964"><span data-lake-id="uc40b22c1" id="uc40b22c1">registeredBefore</span></code><span data-lake-id="uabe065dd" id="uabe065dd">：注册日期范围。</span></li><li fid="u5940b261" data-lake-id="u07b2c605" id="u07b2c605"><code data-lake-id="u37141f37" id="u37141f37"><span data-lake-id="uae67cd08" id="uae67cd08">page</span></code><span data-lake-id="uf3dd10d2" id="uf3dd10d2"> 和 </span><code data-lake-id="u024da831" id="u024da831"><span data-lake-id="ua40f333b" id="ua40f333b">size</span></code><span data-lake-id="u29ba5e6b" id="u29ba5e6b">：分页参数。</span></li><li fid="u5940b261" data-lake-id="u9b57b7ea" id="u9b57b7ea"><code data-lake-id="ua3fb9537" id="ua3fb9537"><span data-lake-id="ua1c5b0d3" id="ua1c5b0d3">sort</span></code><span data-lake-id="u40c1cd78" id="u40c1cd78">：排序字段（如 </span><code data-lake-id="u006594de" id="u006594de"><span data-lake-id="u17d3562c" id="u17d3562c">name,desc</span></code><span data-lake-id="u93297951" id="u93297951"> 或 </span><code data-lake-id="ub2d96b82" id="ub2d96b82"><span data-lake-id="u94e03d68" id="u94e03d68">email,asc</span></code><span data-lake-id="ud0b2690d" id="ud0b2690d">）。</span></li></ul><h4 data-lake-id="ODNlv" id="ODNlv"><strong><span data-lake-id="u3486d203" id="u3486d203">示例请求</span></strong></h4><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22plain%22%2C%22code%22%3A%22GET%20%2Fapi%2Fusers%3Fusername%3DAlice*%26email%3Dalice%40example.com%26ageMin%3D18%26ageMax%3D30%26registeredAfter%3D2020-01-01%26registeredBefore%3D2023-12-31%26page%3D1%26size%3D10%26sort%3Dname%2Cdesc%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22Gwqeb%22%7D"></card><h4 data-lake-id="nG5f9" id="nG5f9"><strong><span data-lake-id="u21d06dcd" id="u21d06dcd">返回数据示例</span></strong></h4><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20%5C%22totalPages%5C%22%3A%205%2C%5Cn%20%20%5C%22totalElements%5C%22%3A%2045%2C%5Cn%20%20%5C%22currentPage%5C%22%3A%201%2C%5Cn%20%20%5C%22pageSize%5C%22%3A%2010%2C%5Cn%20%20%5C%22content%5C%22%3A%20%5B%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%5C%22id%5C%22%3A%201%2C%5Cn%20%20%20%20%20%20%5C%22username%5C%22%3A%20%5C%22Alice%5C%22%2C%5Cn%20%20%20%20%20%20%5C%22email%5C%22%3A%20%5C%22alice%40example.com%5C%22%2C%5Cn%20%20%20%20%20%20%5C%22age%5C%22%3A%2025%2C%5Cn%20%20%20%20%20%20%5C%22registeredDate%5C%22%3A%20%5C%222021-05-15%5C%22%5Cn%20%20%20%20%7D%2C%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%5C%22id%5C%22%3A%202%2C%5Cn%20%20%20%20%20%20%5C%22username%5C%22%3A%20%5C%22Alice123%5C%22%2C%5Cn%20%20%20%20%20%20%5C%22email%5C%22%3A%20%5C%22alice123%40example.com%5C%22%2C%5Cn%20%20%20%20%20%20%5C%22age%5C%22%3A%2022%2C%5Cn%20%20%20%20%20%20%5C%22registeredDate%5C%22%3A%20%5C%222022-08-20%5C%22%5Cn%20%20%20%20%7D%5Cn%20%20%5D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22qLf4B%22%7D"></card><card type="block" name="hr" value="data:%7B%22id%22%3A%22Isu0c%22%7D"></card><h3 data-lake-id="wyz2W" id="wyz2W"><span data-lake-id="u75194e3b" id="u75194e3b">3. </span><strong><span data-lake-id="uda9e4566" id="uda9e4566">示例：文章查询接口</span></strong></h3><p data-lake-id="uccdcff01" id="uccdcff01"><span data-lake-id="ufd5bd170" id="ufd5bd170">假设我们有一个博客系统，需要支持以下查询功能：</span></p><ul list="ucf9f3ebf"><li fid="u8ca4f3ea" data-lake-id="u3da45905" id="u3da45905"><span data-lake-id="u87a1e898" id="u87a1e898">按标题模糊查询。</span></li><li fid="u8ca4f3ea" data-lake-id="u37cd44c3" id="u37cd44c3"><span data-lake-id="uf159ec7c" id="uf159ec7c">按作者 ID 查询。</span></li><li fid="u8ca4f3ea" data-lake-id="u58159649" id="u58159649"><span data-lake-id="u34e2bbf5" id="u34e2bbf5">按发布时间范围查询。</span></li><li fid="u8ca4f3ea" data-lake-id="u7a628d01" id="u7a628d01"><span data-lake-id="u29e03135" id="u29e03135">按标签查询（支持多个标签）。</span></li><li fid="u8ca4f3ea" data-lake-id="u317e42ec" id="u317e42ec"><span data-lake-id="u5cd9d14e" id="u5cd9d14e">支持分页和排序。</span></li></ul><h4 data-lake-id="bkjIA" id="bkjIA"><strong><span data-lake-id="u5c14be9c" id="u5c14be9c">接口设计</span></strong></h4><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22plain%22%2C%22code%22%3A%22GET%20%2Fapi%2Farticles%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22GcZBR%22%7D"></card><h4 data-lake-id="pEvyH" id="pEvyH"><strong><span data-lake-id="u8fb730d5" id="u8fb730d5">查询参数</span></strong></h4><ul list="u7740e93e"><li fid="u52e5c5ff" data-lake-id="u998ed723" id="u998ed723"><code data-lake-id="u701a7113" id="u701a7113"><span data-lake-id="u5e13a3ab" id="u5e13a3ab">title</span></code><span data-lake-id="u351ae117" id="u351ae117">：标题模糊匹配。</span></li><li fid="u52e5c5ff" data-lake-id="uba14f8ef" id="uba14f8ef"><code data-lake-id="u8586e186" id="u8586e186"><span data-lake-id="ud6bc91a6" id="ud6bc91a6">authorId</span></code><span data-lake-id="ue3463a15" id="ue3463a15">：作者 ID。</span></li><li fid="u52e5c5ff" data-lake-id="u1f2a31e6" id="u1f2a31e6"><code data-lake-id="ue4917697" id="ue4917697"><span data-lake-id="u7da93b01" id="u7da93b01">publishedAfter</span></code><span data-lake-id="u84efffb5" id="u84efffb5"> 和 </span><code data-lake-id="u4bac12b6" id="u4bac12b6"><span data-lake-id="u5c1eb09f" id="u5c1eb09f">publishedBefore</span></code><span data-lake-id="uc5cecaf6" id="uc5cecaf6">：发布时间范围。</span></li><li fid="u52e5c5ff" data-lake-id="u25677b5a" id="u25677b5a"><code data-lake-id="u488f6a8d" id="u488f6a8d"><span data-lake-id="u82311bfd" id="u82311bfd">tags</span></code><span data-lake-id="ua3b657cf" id="ua3b657cf">：标签列表（支持多个标签，用逗号分隔）。</span></li><li fid="u52e5c5ff" data-lake-id="ua0989167" id="ua0989167"><code data-lake-id="u8238e65a" id="u8238e65a"><span data-lake-id="u533469cc" id="u533469cc">page</span></code><span data-lake-id="u288a17c8" id="u288a17c8"> 和 </span><code data-lake-id="u471eb5cb" id="u471eb5cb"><span data-lake-id="uc432c793" id="uc432c793">size</span></code><span data-lake-id="ue8cf13de" id="ue8cf13de">：分页参数。</span></li><li fid="u52e5c5ff" data-lake-id="u338ae992" id="u338ae992"><code data-lake-id="u4dba8dc7" id="u4dba8dc7"><span data-lake-id="u8f0e99bc" id="u8f0e99bc">sort</span></code><span data-lake-id="uf4a95b0d" id="uf4a95b0d">：排序字段（如 </span><code data-lake-id="uc817e15e" id="uc817e15e"><span data-lake-id="u202f2f16" id="u202f2f16">publishedDate,desc</span></code><span data-lake-id="ufab1a14e" id="ufab1a14e"> 或 </span><code data-lake-id="ud3f809d1" id="ud3f809d1"><span data-lake-id="u8fd7a2a8" id="u8fd7a2a8">views,asc</span></code><span data-lake-id="u8915a8cc" id="u8915a8cc">）。</span></li></ul><h4 data-lake-id="fZbN4" id="fZbN4"><strong><span data-lake-id="u26e7c511" id="u26e7c511">示例请求</span></strong></h4><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22plain%22%2C%22code%22%3A%22GET%20%2Fapi%2Farticles%3Ftitle%3DSpring%20Boot*%26authorId%3D123%26publishedAfter%3D2023-01-01%26publishedBefore%3D2024-01-01%26tags%3DJava%2CSpring%26page%3D0%26size%3D20%26sort%3DpublishedDate%2Cdesc%22%2C%22autoWrap%22%3Atrue%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22qrUJg%22%7D"></card><h4 data-lake-id="BZ27A" id="BZ27A"><strong><span data-lake-id="u219821e8" id="u219821e8">返回数据示例</span></strong></h4><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22json%22%2C%22code%22%3A%22%7B%5Cn%20%20%5C%22totalPages%5C%22%3A%203%2C%5Cn%20%20%5C%22totalElements%5C%22%3A%2050%2C%5Cn%20%20%5C%22currentPage%5C%22%3A%200%2C%5Cn%20%20%5C%22pageSize%5C%22%3A%2020%2C%5Cn%20%20%5C%22content%5C%22%3A%20%5B%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%5C%22id%5C%22%3A%201%2C%5Cn%20%20%20%20%20%20%5C%22title%5C%22%3A%20%5C%22Spring%20Boot%20%E6%95%99%E7%A8%8B%5C%22%2C%5Cn%20%20%20%20%20%20%5C%22authorId%5C%22%3A%20123%2C%5Cn%20%20%20%20%20%20%5C%22publishedDate%5C%22%3A%20%5C%222023-05-10%5C%22%2C%5Cn%20%20%20%20%20%20%5C%22tags%5C%22%3A%20%5B%5C%22Java%5C%22%2C%20%5C%22Spring%5C%22%5D%5Cn%20%20%20%20%7D%2C%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%5C%22id%5C%22%3A%202%2C%5Cn%20%20%20%20%20%20%5C%22title%5C%22%3A%20%5C%22Spring%20Boot%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%5C%22%2C%5Cn%20%20%20%20%20%20%5C%22authorId%5C%22%3A%20123%2C%5Cn%20%20%20%20%20%20%5C%22publishedDate%5C%22%3A%20%5C%222023-09-15%5C%22%2C%5Cn%20%20%20%20%20%20%5C%22tags%5C%22%3A%20%5B%5C%22Java%5C%22%2C%20%5C%22Spring%5C%22%5D%5Cn%20%20%20%20%7D%5Cn%20%20%5D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22AE7a5%22%7D"></card><h1 data-lake-id="mkMuY" id="mkMuY"><span data-lake-id="ub5d248f2" id="ub5d248f2">RESTful 接口 URL 分级原则</span></h1><p data-lake-id="u068bb790" id="u068bb790"><span data-lake-id="ue56fb6fe" id="ue56fb6fe">RESTful 接口的 URL 分级结构设计是为了清晰表达资源之间的层次关系，同时保持简洁性和可维护性。以下是 RESTful 接口 URL 分级设计的最佳实践：</span></p><ol list="uc8a6399e"><li fid="u98776ad6" data-lake-id="u8ef9a551" id="u8ef9a551"><strong><span data-lake-id="u464de981" id="u464de981">清晰的层级关系</span></strong><span data-lake-id="ucbbcbd87" id="ucbbcbd87">：</span></li></ol><ul list="uc8a6399e" data-lake-indent="1"><li fid="u28e5b51f" data-lake-id="u019db963" id="u019db963"><code data-lake-id="u3ae493b2" id="u3ae493b2"><span data-lake-id="u2f1811d0" id="u2f1811d0">/api/users</span></code><span data-lake-id="ue3f2f173" id="ue3f2f173">：获取所有用户。</span></li><li fid="u28e5b51f" data-lake-id="ucf33004d" id="ucf33004d"><code data-lake-id="ufad3c031" id="ufad3c031"><span data-lake-id="u2c33c24a" id="u2c33c24a">/api/users/{userId}</span></code><span data-lake-id="u7dfa507a" id="u7dfa507a">：获取特定用户。</span></li><li fid="u28e5b51f" data-lake-id="u516116fe" id="u516116fe"><code data-lake-id="ueb7245dc" id="ueb7245dc"><span data-lake-id="ua182eee8" id="ua182eee8">/api/users/{userId}/orders</span></code><span data-lake-id="u6a4f3a50" id="u6a4f3a50">：获取特定用户的订单。</span></li></ul><ol list="uc8a6399e" start="2"><li fid="u98776ad6" data-lake-id="u0d82d1a5" id="u0d82d1a5"><strong><span data-lake-id="uefa0a3c3" id="uefa0a3c3">简洁的嵌套</span></strong><span data-lake-id="u17a0e9e9" id="u17a0e9e9">：</span></li></ol><ul list="uc8a6399e" data-lake-indent="1"><li fid="u6d95521b" data-lake-id="ub5ad0a94" id="ub5ad0a94"><code data-lake-id="u71f0ff74" id="u71f0ff74"><span data-lake-id="u6de47825" id="u6de47825">/api/articles/{articleId}/comments</span></code><span data-lake-id="u80cacedc" id="u80cacedc">：获取文章的所有评论。</span></li></ul><ol list="uc8a6399e" start="3"><li fid="u98776ad6" data-lake-id="ude498c69" id="ude498c69"><strong><span data-lake-id="uce4ccb33" id="uce4ccb33">版本控制</span></strong><span data-lake-id="u130dbc89" id="u130dbc89">：</span></li></ol><ul list="uc8a6399e" data-lake-indent="1"><li fid="uad377644" data-lake-id="ue3977c7c" id="ue3977c7c"><code data-lake-id="u307fecd4" id="u307fecd4"><span data-lake-id="u51ab9c91" id="u51ab9c91">/api/v1/users</span></code><span data-lake-id="u0bf30954" id="u0bf30954">：用户模块的 v1 版本。</span></li></ul><h1 data-lake-id="rrpYm" id="rrpYm"><span data-lake-id="ufc30ab5d" id="ufc30ab5d">HTTP 的幂等性</span></h1><p data-lake-id="u85f678af" id="u85f678af"><span data-lake-id="uebdd5c06" id="uebdd5c06">在 HTTP 协议中，</span><strong><span data-lake-id="u66a4db2e" id="u66a4db2e">幂等性（Idempotence）</span></strong><span data-lake-id="u62a68d02" id="u62a68d02"> 是一个重要的概念，它描述的是某些 HTTP 方法在多次执行时的行为特性。简单来说，</span><strong><span data-lake-id="u0e52d64b" id="u0e52d64b">幂等性</span></strong><span data-lake-id="u97cf951e" id="u97cf951e"> 指的是：</span><strong><span data-lake-id="ue0e90632" id="ue0e90632">多次执行相同的操作，结果是一样的</span></strong><span data-lake-id="uf09f3eb8" id="uf09f3eb8">，就好像执行了一次操作一样。</span></p><h3 data-lake-id="Pfa1z" id="Pfa1z"><span data-lake-id="udc158783" id="udc158783">1. </span><strong><span data-lake-id="ub3fe9d6d" id="ub3fe9d6d">幂等性的定义</span></strong></h3><p data-lake-id="u9c7bbffe" id="u9c7bbffe"><span data-lake-id="uf67f7abe" id="uf67f7abe">如果一个 HTTP 方法是幂等的，那么无论你调用它一次还是多次，只要输入的参数相同，最终的结果（即对服务器状态的影响）是相同的。换句话说，多次调用不会产生额外的副作用。</span></p><h3 data-lake-id="qNlwL" id="qNlwL"><span data-lake-id="u805433bb" id="u805433bb">2. </span><strong><span data-lake-id="u0fdaea2d" id="u0fdaea2d">HTTP 方法的幂等性</span></strong></h3><p data-lake-id="u513e96ed" id="u513e96ed"><span data-lake-id="uf5f72360" id="uf5f72360">HTTP 协议定义了多种请求方法（如 GET、POST、PUT、DELETE 等），每种方法都有其特定的语义和幂等性特性：</span></p><h4 data-lake-id="lhb5A" id="lhb5A"><span data-lake-id="uc97c414b" id="uc97c414b">（1）</span><strong><span data-lake-id="ucd976caf" id="ucd976caf">幂等的方法</span></strong></h4><ul list="u0d47b01b"><li fid="u7696a2c8" data-lake-id="uf15af5f1" id="uf15af5f1"><strong><span data-lake-id="ud6ffed3a" id="ud6ffed3a">GET</span></strong><span data-lake-id="ud7c7f84f" id="ud7c7f84f">：</span></li></ul><ul list="u0d47b01b" data-lake-indent="1"><li fid="u77e2580e" data-lake-id="uaad85e63" id="uaad85e63"><strong><span data-lake-id="ue0d578ec" id="ue0d578ec">语义</span></strong><span data-lake-id="u6e312ca6" id="u6e312ca6">：用于获取资源。</span></li><li fid="u77e2580e" data-lake-id="ue11f9997" id="ue11f9997"><strong><span data-lake-id="ue24ed8ba" id="ue24ed8ba">幂等性</span></strong><span data-lake-id="ub7e190ad" id="ub7e190ad">：幂等。</span></li><li fid="u77e2580e" data-lake-id="u5bc7dd2c" id="u5bc7dd2c"><strong><span data-lake-id="u447b07f2" id="u447b07f2">解释</span></strong><span data-lake-id="u0c2e53e9" id="u0c2e53e9">：无论调用多少次，</span><code data-lake-id="u3c82f225" id="u3c82f225"><span data-lake-id="uef66366f" id="uef66366f">GET</span></code><span data-lake-id="u579b5bd8" id="u579b5bd8"> 方法都不会对服务器状态产生任何改变，只是返回资源的内容。</span></li></ul><ul list="u0d47b01b" start="2"><li fid="u7696a2c8" data-lake-id="u17c031e1" id="u17c031e1"><strong><span data-lake-id="ubb5464dd" id="ubb5464dd">PUT</span></strong><span data-lake-id="ufe26eaf9" id="ufe26eaf9">：</span></li></ul><ul list="u0d47b01b" data-lake-indent="1"><li fid="u82f974c1" data-lake-id="ub1354551" id="ub1354551"><strong><span data-lake-id="u4304f8e1" id="u4304f8e1">语义</span></strong><span data-lake-id="u3b4dd2ab" id="u3b4dd2ab">：用于更新或创建资源。</span></li><li fid="u82f974c1" data-lake-id="uad70b4f7" id="uad70b4f7"><strong><span data-lake-id="ud2ca920d" id="ud2ca920d">幂等性</span></strong><span data-lake-id="u782b55e6" id="u782b55e6">：幂等。</span></li><li fid="u82f974c1" data-lake-id="udfde2964" id="udfde2964"><strong><span data-lake-id="u4cbb564d" id="u4cbb564d">解释</span></strong><span data-lake-id="uab995d2a" id="uab995d2a">：多次调用 </span><code data-lake-id="ueb84c7e9" id="ueb84c7e9"><span data-lake-id="uc5cc7d6e" id="uc5cc7d6e">PUT</span></code><span data-lake-id="u55016a87" id="u55016a87"> 方法（假设请求体相同）会对资源产生相同的效果。例如，更新一个用户的邮箱地址，无论调用一次还是多次，结果都是相同的。</span></li></ul><ul list="u0d47b01b" start="3"><li fid="u7696a2c8" data-lake-id="u66b9b729" id="u66b9b729"><strong><span data-lake-id="u83d2b669" id="u83d2b669">DELETE</span></strong><span data-lake-id="ua074db33" id="ua074db33">：</span></li></ul><ul list="u0d47b01b" data-lake-indent="1"><li fid="uf986f452" data-lake-id="u2761422c" id="u2761422c"><strong><span data-lake-id="u11e51886" id="u11e51886">语义</span></strong><span data-lake-id="u0e30f7d8" id="u0e30f7d8">：用于删除资源。</span></li><li fid="uf986f452" data-lake-id="uafe29c04" id="uafe29c04"><strong><span data-lake-id="ub32ff92b" id="ub32ff92b">幂等性</span></strong><span data-lake-id="u80cb45be" id="u80cb45be">：幂等。</span></li><li fid="uf986f452" data-lake-id="u5aa84db8" id="u5aa84db8"><strong><span data-lake-id="ua2609a81" id="ua2609a81">解释</span></strong><span data-lake-id="ud7350875" id="ud7350875">：删除一个资源后，再次调用 </span><code data-lake-id="u801f4df0" id="u801f4df0"><span data-lake-id="u64f5daa9" id="u64f5daa9">DELETE</span></code><span data-lake-id="u7c8e8600" id="u7c8e8600"> 方法不会产生额外的影响。例如，删除一个文件后，再次删除该文件不会改变服务器的状态。</span></li></ul><h4 data-lake-id="G3Ds6" id="G3Ds6"><span data-lake-id="u87dda346" id="u87dda346">（2）</span><strong><span data-lake-id="u4b84f48f" id="u4b84f48f">非幂等的方法</span></strong></h4><ul list="ue14233d1"><li fid="u32d3d026" data-lake-id="ud4a3f6c1" id="ud4a3f6c1"><strong><span data-lake-id="ue8747bf7" id="ue8747bf7">POST</span></strong><span data-lake-id="ud3e091a2" id="ud3e091a2">：</span></li></ul><ul list="ue14233d1" data-lake-indent="1"><li fid="ubfda4be4" data-lake-id="u13cfa782" id="u13cfa782"><strong><span data-lake-id="u1a738cec" id="u1a738cec">语义</span></strong><span data-lake-id="u3c33ccf2" id="u3c33ccf2">：用于创建资源或触发服务器上的操作。</span></li><li fid="ubfda4be4" data-lake-id="u0103f829" id="u0103f829"><strong><span data-lake-id="u5298548a" id="u5298548a">幂等性</span></strong><span data-lake-id="udfcd6b29" id="udfcd6b29">：非幂等。</span></li><li fid="ubfda4be4" data-lake-id="u1eeef855" id="u1eeef855"><strong><span data-lake-id="uaa346a37" id="uaa346a37">解释</span></strong><span data-lake-id="u18354f60" id="u18354f60">：多次调用 </span><code data-lake-id="u078fd024" id="u078fd024"><span data-lake-id="udbabd031" id="udbabd031">POST</span></code><span data-lake-id="u9d27e7a4" id="u9d27e7a4"> 方法可能会产生不同的结果。例如，向数据库中插入一条新记录，每次调用都会创建一个新的记录，因此多次调用会产生不同的结果。</span></li></ul><h3 data-lake-id="e1Rbb" id="e1Rbb"><span data-lake-id="u3f2734c2" id="u3f2734c2">3. </span><strong><span data-lake-id="u201a1cf9" id="u201a1cf9">幂等性的实际意义</span></strong></h3><p data-lake-id="u18060d63" id="u18060d63"><span data-lake-id="uf5d9c868" id="uf5d9c868">幂等性在实际开发中非常重要，尤其是在分布式系统和网络不稳定的情况下。例如：</span></p><ul list="ueda20dfd"><li fid="uc63c53c7" data-lake-id="ubffe6fb2" id="ubffe6fb2"><strong><span data-lake-id="u90baf2ea" id="u90baf2ea">网络重试</span></strong><span data-lake-id="uabed9ab7" id="uabed9ab7">：当客户端发送请求时，可能会因为网络问题导致请求失败。如果请求是幂等的，客户端可以安全地重试请求，而不用担心多次调用会产生意外的副作用。</span></li><li fid="uc63c53c7" data-lake-id="u6a9d6252" id="u6a9d6252"><strong><span data-lake-id="u477d72b8" id="u477d72b8">系统可靠性</span></strong><span data-lake-id="u5115bb81" id="u5115bb81">：幂等操作可以减少因重复请求导致的错误，提高系统的可靠性和可预测性。</span></li></ul><h3 data-lake-id="f9Nkd" id="f9Nkd"><span data-lake-id="u6330c389" id="u6330c389">4. </span><strong><span data-lake-id="uaf044f04" id="uaf044f04">幂等性与安全性</span></strong></h3><p data-lake-id="uf6823334" id="uf6823334"><span data-lake-id="u4c330d63" id="u4c330d63">幂等性与安全性（Safety）是两个不同的概念：</span></p><ul list="uf3246df3"><li fid="u2dbec4f3" data-lake-id="u3950e04d" id="u3950e04d"><strong><span data-lake-id="u1376c266" id="u1376c266">幂等性（Idempotence）</span></strong><span data-lake-id="uc5bbc7ce" id="uc5bbc7ce">：多次调用结果相同。</span></li><li fid="u2dbec4f3" data-lake-id="u2838d970" id="u2838d970"><strong><span data-lake-id="u65ef6d84" id="u65ef6d84">安全性（Safety）</span></strong><span data-lake-id="u845c88ec" id="u845c88ec">：不会对服务器状态产生副作用。</span></li></ul><ul list="uf3246df3" data-lake-indent="1"><li fid="u714b6e28" data-lake-id="u4542f2c1" id="u4542f2c1"><code data-lake-id="u9e56892a" id="u9e56892a"><span data-lake-id="ua21c9058" id="ua21c9058">GET</span></code><span data-lake-id="ufb1cbcf1" id="ufb1cbcf1">是安全的，因为它们不会修改服务器状态。</span></li><li fid="u714b6e28" data-lake-id="ubbaf8e8f" id="ubbaf8e8f"><code data-lake-id="u66f6452d" id="u66f6452d"><span data-lake-id="u00f7e8f3" id="u00f7e8f3">POST</span></code><span data-lake-id="u076ea6cc" id="u076ea6cc">、</span><code data-lake-id="u593b9f56" id="u593b9f56"><span data-lake-id="ue733a554" id="ue733a554">PUT</span></code><span data-lake-id="u79a49abe" id="u79a49abe">、</span><code data-lake-id="uc84e3a9e" id="uc84e3a9e"><span data-lake-id="uc1019f98" id="uc1019f98">DELETE</span></code><span data-lake-id="u334c37c9" id="u334c37c9"> 是不安全的，因为它们会修改服务器状态。</span></li></ul><h3 data-lake-id="ml4Y0" id="ml4Y0"><span data-lake-id="u194246e0" id="u194246e0">5. </span><strong><span data-lake-id="ua21a7248" id="ua21a7248">如何设计幂等的接口</span></strong></h3><p data-lake-id="u5ee63e68" id="u5ee63e68"><span data-lake-id="ua3eef1c6" id="ua3eef1c6">在设计 RESTful 接口时，应尽量遵循 HTTP 方法的语义，并确保幂等性：</span></p><ul list="u1d8b4db1"><li fid="ubc466498" data-lake-id="ud4607348" id="ud4607348"><span data-lake-id="u2c29180c" id="u2c29180c">使用 </span><code data-lake-id="udedbe213" id="udedbe213"><span data-lake-id="uc957dd89" id="uc957dd89">PUT</span></code><span data-lake-id="u5c060072" id="u5c060072"> 和 </span><code data-lake-id="u90616c01" id="u90616c01"><span data-lake-id="uc7b1d54f" id="uc7b1d54f">DELETE</span></code><span data-lake-id="ub8989436" id="ub8989436"> 方法时，确保它们是幂等的。</span></li><li fid="ubc466498" data-lake-id="u44dc50be" id="u44dc50be"><span data-lake-id="u397f0564" id="u397f0564">对于 </span><code data-lake-id="u9889f266" id="u9889f266"><span data-lake-id="u6a4e31c6" id="u6a4e31c6">POST</span></code><span data-lake-id="u33aa5147" id="u33aa5147"> 方法，如果需要幂等性，可以通过其他机制（如唯一标识符、幂等令牌）来避免重复操作。</span></li></ul><h3 data-lake-id="Rh52M" id="Rh52M"><span data-lake-id="u671fab2f" id="u671fab2f">6. </span><strong><span data-lake-id="uf157bc3e" id="uf157bc3e">幂等性的例子</span></strong></h3><p data-lake-id="u4ca96c6d" id="u4ca96c6d"><span data-lake-id="u3914fd97" id="u3914fd97">假设我们有一个用户管理系统，以下是幂等和非幂等操作的例子：</span></p><h4 data-lake-id="NfLUF" id="NfLUF"><span data-lake-id="u0505d25c" id="u0505d25c">（1）幂等操作</span></h4><ul list="ue281804f"><li fid="u13503aff" data-lake-id="u5dbde8d0" id="u5dbde8d0"><strong><span data-lake-id="u7677d066" id="u7677d066">更新用户信息</span></strong><span data-lake-id="u432393b6" id="u432393b6">：</span></li></ul><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22http%22%2C%22code%22%3A%22PUT%20%2Fapi%2Fusers%2F123%5Cn%7B%5Cn%20%20%5C%22name%5C%22%3A%20%5C%22Alice%5C%22%2C%5Cn%20%20%5C%22email%5C%22%3A%20%5C%22alice%40example.com%5C%22%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22HP6sF%22%7D"></card><ul list="ue281804f" data-lake-indent="1"><li fid="u335c829f" data-lake-id="u47edf20f" id="u47edf20f"><strong><span data-lake-id="ub6c97a7f" id="ub6c97a7f">解释</span></strong><span data-lake-id="ue6f25724" id="ue6f25724">：无论调用多少次，用户 </span><code data-lake-id="u753c9270" id="u753c9270"><span data-lake-id="u6ed03670" id="u6ed03670">123</span></code><span data-lake-id="u331732a9" id="u331732a9"> 的信息都会被更新为相同的值。</span></li></ul><ul list="ue281804f" start="2"><li fid="u13503aff" data-lake-id="u8045bfb9" id="u8045bfb9"><strong><span data-lake-id="ub70f4eb3" id="ub70f4eb3">删除用户</span></strong><span data-lake-id="ue97d1437" id="ue97d1437">：</span></li></ul><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22http%22%2C%22code%22%3A%22DELETE%20%2Fapi%2Fusers%2F123%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22jEa2S%22%7D"></card><ul list="ue281804f" data-lake-indent="1"><li fid="u7da222e2" data-lake-id="u879569ab" id="u879569ab"><strong><span data-lake-id="uff3ccccb" id="uff3ccccb">解释</span></strong><span data-lake-id="ub6a27b4a" id="ub6a27b4a">：删除用户 </span><code data-lake-id="u1cf3c5e2" id="u1cf3c5e2"><span data-lake-id="ua8048057" id="ua8048057">123</span></code><span data-lake-id="u2c8333d8" id="u2c8333d8"> 后，再次调用不会产生额外的影响。</span></li></ul><h4 data-lake-id="wkbjj" id="wkbjj"><span data-lake-id="u149f12a8" id="u149f12a8">（2）非幂等操作</span></h4><ul list="u409d0f19"><li fid="ubcf296ae" data-lake-id="u067ac86b" id="u067ac86b"><strong><span data-lake-id="ub7c1384b" id="ub7c1384b">创建新用户</span></strong><span data-lake-id="u3e8aafcb" id="u3e8aafcb">：</span></li></ul><card type="inline" name="codeblock" value="data:%7B%22search%22%3A%22%22%2C%22mode%22%3A%22http%22%2C%22code%22%3A%22POST%20%2Fapi%2Fusers%5Cn%7B%5Cn%20%20%5C%22name%5C%22%3A%20%5C%22Bob%5C%22%2C%5Cn%20%20%5C%22email%5C%22%3A%20%5C%22bob%40example.com%5C%22%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Atrue%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22vHzkO%22%7D"></card><ul list="u409d0f19" data-lake-indent="1"><li fid="u3fd2d5b6" data-lake-id="u5afcdb78" id="u5afcdb78"><strong><span data-lake-id="ub6ce95ef" id="ub6ce95ef">解释</span></strong><span data-lake-id="u59823495" id="u59823495">：每次调用都会创建一个新的用户记录，因此多次调用会产生不同的结果。</span></li></ul><h3 data-lake-id="qgNZd" id="qgNZd"><span data-lake-id="u96a4592d" id="u96a4592d">7. </span><strong><span data-lake-id="u80129808" id="u80129808">总结</span></strong></h3><p data-lake-id="u59bb7b8d" id="u59bb7b8d"><span data-lake-id="u3af2b9b9" id="u3af2b9b9">幂等性是 HTTP 协议中的一个重要概念，它描述了某些操作在多次执行时的结果是否相同。幂等的操作（如 </span><code data-lake-id="u5a0a8bbe" id="u5a0a8bbe"><span data-lake-id="u7f717e8f" id="u7f717e8f">GET</span></code><span data-lake-id="u04b1c4f2" id="u04b1c4f2">、</span><code data-lake-id="ua10cccb8" id="ua10cccb8"><span data-lake-id="ub70736be" id="ub70736be">PUT</span></code><span data-lake-id="ud11f560a" id="ud11f560a">、</span><code data-lake-id="u6e7ebb52" id="u6e7ebb52"><span data-lake-id="u8547b8bb" id="u8547b8bb">DELETE</span></code><span data-lake-id="uc46f7bca" id="uc46f7bca">）可以安全地重试，而不会产生意外的副作用。在设计 RESTful 接口时，应尽量遵循 HTTP 方法的语义，确保接口的幂等性和安全性。</span></p>